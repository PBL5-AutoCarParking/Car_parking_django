{% load widget_tweaks %}
{% load static %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

{% load socialaccount %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
<!-- css -->
<link rel="stylesheet" href="{% static 'home/register/css/style.css' %}">


<div class="container">
    <div class="card bg-light" style="margin-top: 70px;">
        <article class="card-body mx-auto" style="max-width: 400px;">
            <h4 class="card-title mt-3 text-center">Create Your Account Here</h4>
            <p class="text-center">Get started with your free account</p>

            <p>
                <a href="{% url 'google_login' %}" class="btn btn-block btn-danger">
                    <i class="fab fa-google"></i> Đăng nhập bằng Google
                </a>
            </p>
            <p class="divider-text">
                <span class="bg-light">OR</span>
            </p>
            <form id="my-form" method="post" action="{% url 'signup' %}">
                {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                            </div>
                            {{ form.first_name|add_class:"form-control" }}
                            {% for error in form.first_name.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="input-group">
                            {{ form.last_name|add_class:"form-control" }}
                            {% for error in form.last_name.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                    </div>
                    <input name="username" class="form-control" placeholder="Username" type="text">
                    {% for error in form.username.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div>
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                    </div>
                    <input name="email" class="form-control" placeholder="Email address" type="email">
                    {% for error in form.email.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div> <!-- form-group// -->
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-phone"></i> </span>
                    </div>
                    <select class="custom-select" style="max-width: 120px;">
                        <option selected="">+84</option>
                    </select>
                    {{ form.phone_number|add_class:"form-control" }}
                    {% for error in form.phone_number.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div> <!-- form-group// -->
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-building"></i> </span>
                    </div>
                    {{ form.card_number|add_class:"form-control" }}
                    {% for error in form.card_number.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div> <!-- form-group end.// -->
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                    </div>
                    <input name="password1" class="form-control" placeholder="Create password" type="password">
                    {% for error in form.password1.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div> <!-- form-group// -->
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                    </div>
                    <input name="password2" class="form-control" placeholder="Repeat password" type="password">
                    {% for error in form.password2.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                </div> <!-- form-group// -->
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block"> Create Account</button>
                </div> <!-- form-group// -->
                <p class="text-center">Have an account? <a href="{% url 'login' %}">Log In</a></p>
            </form>
        </article>
    </div>
</div>
<div>
    {% for error in form.errors %}
    <p>{{ error }}</p>
    {% endfor %}
</div>
<script>
const form = document.querySelector('form');
form.addEventListener('click', function(event) {
  const invalidFeedbacks = form.querySelectorAll('.invalid-feedback');
  invalidFeedbacks.forEach(function(feedback) {
    feedback.style.display = 'none';
  });
});
</script>
